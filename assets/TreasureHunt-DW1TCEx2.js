import{o as l,c as a,a as e,t as g,F as C,r as P,n as z,b as Y,d as y,w as q,e as I,f as U,v as N,g as T,h as K,i as V,u as j,j as H,k as M,l as J,m as Q,T as R,p as G,q as X,s as Z}from"./index-uSm9mXKh.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";async function E(w){const n=new TextEncoder().encode(w),d=await crypto.subtle.digest("SHA-256",n);return Array.from(new Uint8Array(d)).map(t=>t.toString(16).padStart(2,"0")).join("")}const F=[{id:1,title:"Eye Candy",question:"What is her favourite colour and one of my favourite features of her?",type:"colour-select",colours:["Red","Blue","Green","Yellow","Purple","Pink","Orange"],answerHash:"16477688c0e00699c6cfa4497a3612d7e83c532062b64b250fed8908128ed548"},{id:2,title:"What's in a Name?",question:"What is the nickname she always calls me with?",type:"text-input",answerHash:"6ddc282b3a30d9cb0cb39d0eb48dee4368bcefd30ba2d31734e725c967b90448"},{id:3,title:"Bonding Moments",question:"On our weekends, what is our favourite past time?",type:"word-scramble",answerHash:"064859fd8c4f47c6d516076500738d71e895ce894fb4038c7f6641f2f8c1642b"},{id:4,title:"(Not) From Russia With Love",question:"Many may confuse her as a Russian, but she is in fact from Belarus, a city (although she was originally from a village) called",type:"text-input",answerHashes:["9c7c13e9807b0efd5fb8f8fdbb71e6fee0ba2cdad3c2b737d754649417e584f6","99e191266afec3cf238c217be90b77c2e526e1fa946294da11af6d5ee0b36a1d","0c1c2daa93b6a12379447717fdf9493dd0e2fc2b8dd6c40b31ff1605c8163f96","b1d50d50778afa813a05a945fabfe3f5d321e15adc6584c1fe38217a715628cc"]},{id:5,title:"For Her Eyes (And Ears) Only",question:"She once told me she has only been to one band's live concert. What is that band?",type:"concert-ticket",answerHash:"1ce05c22f7920641660dd3abfa241090175492d710e7d53ba1b0ef22daeff172"},{id:6,title:"Non-Negotiable",question:"What is her absolute must daily routine?",type:"emoji-select",options:[{emoji:"ðŸ‹ï¸â€â™€ï¸",label:"Workout"},{emoji:"ðŸ“–",label:"Reading"},{emoji:"ðŸ§˜â€â™€ï¸",label:"Meditation"},{emoji:"ðŸŽ¨",label:"Painting"},{emoji:"â˜•",label:"Coffee"},{emoji:"ðŸŽµ",label:"Music"}],answerHash:"b10c94bd8ae38a2a37365b6d81c4ae1e121cccbcc233c8bdb4238eee7e85e657"},{id:7,title:"Golden Ratio",question:"This is something that only she would know. Disguise is always a self portrait.",type:"three-part-input",answerHash:"d028060b19d659558317574b64ddf44341bdc93041e6597943ca68cce576770f"},{id:8,title:"The Full Package",question:"What are her virtues which I deeply admire?",type:"multi-select",options:["Empathy","Intelligence","Mental Fortitude","Loving"],answerHash:"2ceb3a60b0b4cdabf815f6720d5860f71748ad63e4eb47cec1b3ab18a933bdd8"},{id:9,title:"A City Asleep",question:"Empty roads, cool fresh air, and a beautiful Sun. What does she like to do in summer mornings?",type:"cryptex",answerHash:"aa1b69a8c485ba42782c313a55397cf4ef5c3d54403a6c58b37a2997afb33ce0"}];async function S(w,n){const d=F[w];if(!d)return!1;if(d.type==="multi-select"){if(!Array.isArray(n))return!1;const s=[...n].map(v=>v.toLowerCase().trim()).sort();return await E(s.join("|"))===d.answerHash}if(d.type==="emoji-select")return n?await E(n.toLowerCase().trim())===d.answerHash:!1;if(d.answerHashes){const s=await E(n.toLowerCase().trim());return d.answerHashes.includes(s)}return await E(n.toLowerCase().trim())===d.answerHash}const ee={class:"space-y-6"},te={class:"text-center text-rose-700/80 text-lg"},se={class:"max-w-md mx-auto"},oe={class:"grid grid-cols-4 gap-4 mb-6"},le=["onClick"],ae={class:"text-sm text-rose-700 font-medium"},ne=["disabled"],re={__name:"Puzzle1",props:["puzzle"],emits:["solved"],setup(w,{emit:n}){const d=n,t=y(null),s=y(!1),p={Red:"#ef4444",Blue:"#3b82f6",Green:"#22c55e",Yellow:"#eab308",Purple:"#a855f7",Pink:"#ec4899",Orange:"#f97316"},v=m=>{t.value=m},r=async()=>{await S(0,t.value)?d("solved"):(s.value=!0,setTimeout(()=>s.value=!1,1e3))};return(m,x)=>(l(),a("div",ee,[e("div",te,[e("p",null,g(w.puzzle.question),1)]),e("div",se,[e("div",oe,[(l(!0),a(C,null,P(w.puzzle.colours,u=>(l(),a("button",{key:u,onClick:o=>v(u),class:z(["flex flex-col items-center gap-2 p-3 rounded-xl border-2 transition-all duration-300",{"border-transparent hover:border-rose-200":t.value!==u,"border-rose-600 shadow-lg scale-105":t.value===u&&!s.value,"border-red-500 animate-shake":s.value&&t.value===u}])},[e("div",{class:"w-14 h-14 rounded-full shadow-md transition-transform hover:scale-110",style:Y({backgroundColor:p[u]})},null,4),e("span",ae,g(u),1)],10,le))),128))]),e("button",{onClick:r,disabled:!t.value,class:z(["btn-primary w-full",{"opacity-50 cursor-not-allowed":!t.value}])}," Submit Answer ",10,ne)])]))}},ue=A(re,[["__scopeId","data-v-1e886ff0"]]),ce={class:"space-y-6"},ie={class:"text-center text-rose-700/80 text-lg"},de={class:"max-w-md mx-auto"},me=["value"],pe=["value"],ve=["value"],fe={__name:"Puzzle2",props:["puzzle"],emits:["solved"],setup(w,{emit:n}){const d=n,t=y(""),s=y(""),p=y(""),v=y(!1),r=y(null),m=y(null),x=y(null),u=I(()=>`${t.value}-${s.value}-${p.value}`),o=(k,c)=>{var b,i;const f=c.target.value.replace(/\D/g,"").slice(0,2);k===1?(t.value=f,f.length===2&&((b=m.value)==null||b.focus())):k===2?(s.value=f,f.length===2&&((i=x.value)==null||i.focus())):p.value=f},h=async()=>{await S(6,u.value)?d("solved"):(v.value=!0,setTimeout(()=>v.value=!1,1e3))};return(k,c)=>(l(),a("div",ce,[e("div",ie,[e("p",null,g(w.puzzle.question),1)]),e("div",de,[e("div",{class:z(["flex items-center justify-center gap-3 mb-6",{"animate-shake":v.value}])},[e("input",{ref_key:"part1Input",ref:r,value:t.value,onInput:c[0]||(c[0]=f=>o(1,f)),type:"text",inputmode:"numeric",maxlength:"2",placeholder:"__",class:z(["w-20 h-16 text-center text-2xl font-bold rounded-xl border-2 outline-none transition-all duration-300",{"border-rose-300 focus:border-rose-500":!v.value,"border-red-500 bg-red-50":v.value}])},null,42,me),c[3]||(c[3]=e("span",{class:"text-3xl font-bold text-rose-400"},"-",-1)),e("input",{ref_key:"part2Input",ref:m,value:s.value,onInput:c[1]||(c[1]=f=>o(2,f)),type:"text",inputmode:"numeric",maxlength:"2",placeholder:"__",class:z(["w-20 h-16 text-center text-2xl font-bold rounded-xl border-2 outline-none transition-all duration-300",{"border-rose-300 focus:border-rose-500":!v.value,"border-red-500 bg-red-50":v.value}])},null,42,pe),c[4]||(c[4]=e("span",{class:"text-3xl font-bold text-rose-400"},"-",-1)),e("input",{ref_key:"part3Input",ref:x,value:p.value,onInput:c[2]||(c[2]=f=>o(3,f)),type:"text",inputmode:"numeric",maxlength:"2",placeholder:"__",class:z(["w-20 h-16 text-center text-2xl font-bold rounded-xl border-2 outline-none transition-all duration-300",{"border-rose-300 focus:border-rose-500":!v.value,"border-red-500 bg-red-50":v.value}]),onKeyup:q(h,["enter"])},null,42,ve)],2),e("button",{onClick:h,class:"btn-primary w-full"}," Submit Answer ")])]))}},be=A(fe,[["__scopeId","data-v-debd82c9"]]),he={class:"space-y-6"},xe={class:"text-center text-rose-700/80 text-lg"},_e={class:"max-w-md mx-auto"},ye={__name:"Puzzle3",props:["puzzle"],emits:["solved"],setup(w,{emit:n}){const d=n,t=y(""),s=y(!1),p=async()=>{await S(1,t.value)?d("solved"):(s.value=!0,setTimeout(()=>s.value=!1,1e3))};return(v,r)=>(l(),a("div",he,[e("div",xe,[e("p",null,g(w.puzzle.question),1)]),e("div",_e,[U(e("input",{"onUpdate:modelValue":r[0]||(r[0]=m=>t.value=m),type:"text",placeholder:"Your answer...",class:z(["w-full px-6 py-4 text-lg rounded-xl border-2 transition-all duration-300 outline-none",{"border-rose-300 focus:border-rose-500":!s.value,"border-red-500 bg-red-50 animate-shake":s.value}]),onKeyup:q(p,["enter"])},null,34),[[N,t.value]]),e("button",{onClick:p,class:"btn-primary w-full mt-4"}," Submit Answer ")])]))}},we=A(ye,[["__scopeId","data-v-f2cfb6e1"]]),ge={class:"space-y-6"},ze={class:"text-center text-rose-700/80 text-lg"},ke={class:"max-w-md mx-auto"},$e=["onClick"],Ce={key:0,class:"text-rose-300 italic"},Pe={class:"flex flex-wrap justify-center gap-2 mb-6"},je=["onClick","disabled"],Ie="ageofmythology",Ae={__name:"Puzzle4",props:["puzzle"],emits:["solved"],setup(w,{emit:n}){const d=n,t=y(v([...Ie.toUpperCase()])),s=y([]),p=y(!1);function v(c){const f=[...c];for(let b=f.length-1;b>0;b--){const i=Math.floor(Math.random()*(b+1));[f[b],f[i]]=[f[i],f[b]]}return f}const r=I(()=>s.value.map(c=>t.value[c])),m=I(()=>r.value.join("")),x=c=>s.value.includes(c),u=c=>{x(c)||s.value.push(c)},o=c=>{s.value.splice(c,1)},h=async()=>{await S(2,m.value)?d("solved"):(p.value=!0,setTimeout(()=>p.value=!1,1e3))},k=()=>{s.value=[]};return(c,f)=>(l(),a("div",ge,[e("div",ze,[e("p",null,g(w.puzzle.question),1),f[0]||(f[0]=e("p",{class:"text-sm mt-2 text-rose-500/70 italic"},"Unscramble the letters to form the answer (no spaces)",-1))]),e("div",ke,[e("div",{class:z(["min-h-16 p-4 bg-white rounded-xl border-2 mb-4 flex flex-wrap justify-center gap-2 transition-all duration-300",{"border-rose-300":!p.value,"border-red-500 bg-red-50 animate-shake":p.value}])},[(l(!0),a(C,null,P(r.value,(b,i)=>(l(),a("button",{key:"selected-"+i,onClick:_=>o(i),class:"w-10 h-10 bg-rose-500 text-white rounded-lg font-bold text-lg hover:bg-rose-600 transition-all transform hover:scale-105"},g(b),9,$e))),128)),r.value.length===0?(l(),a("span",Ce," Click letters below to form your answer... ")):T("",!0)],2),e("div",Pe,[(l(!0),a(C,null,P(t.value,(b,i)=>(l(),a("button",{key:"available-"+i,onClick:_=>u(i),disabled:x(i),class:z(["w-12 h-12 rounded-xl font-bold text-xl transition-all transform",{"bg-rose-100 text-rose-600 hover:bg-rose-200 hover:scale-110 shadow-md":!x(i),"bg-gray-100 text-gray-300 cursor-not-allowed":x(i)}])},g(b),11,je))),128))]),e("div",{class:"flex gap-3"},[e("button",{onClick:k,class:"btn-secondary flex-1"}," Reset "),e("button",{onClick:h,class:"btn-primary flex-1"}," Submit ")])])]))}},Se=A(Ae,[["__scopeId","data-v-452d6a8c"]]),Te={class:"space-y-6"},Le={class:"text-center text-rose-700/80 text-lg"},Ee={class:"max-w-md mx-auto"},He={__name:"Puzzle5",props:["puzzle"],emits:["solved"],setup(w,{emit:n}){const d=n,t=y(""),s=y(!1),p=async()=>{await S(3,t.value)?d("solved"):(s.value=!0,setTimeout(()=>s.value=!1,1e3))};return(v,r)=>(l(),a("div",Te,[e("div",Le,[e("p",null,g(w.puzzle.question),1),r[1]||(r[1]=e("p",{class:"text-sm mt-2 text-rose-500/70 italic"},"English or Cyrillic accepted (Russian and Belarusian spellings both work)",-1))]),e("div",Ee,[U(e("input",{"onUpdate:modelValue":r[0]||(r[0]=m=>t.value=m),type:"text",placeholder:"City name...",class:z(["w-full px-6 py-4 text-lg rounded-xl border-2 transition-all duration-300 outline-none",{"border-rose-300 focus:border-rose-500":!s.value,"border-red-500 bg-red-50 animate-shake":s.value}]),onKeyup:q(p,["enter"])},null,34),[[N,t.value]]),e("button",{onClick:p,class:"btn-primary w-full mt-4"}," Submit Answer ")])]))}},De=A(He,[["__scopeId","data-v-f5886750"]]),Me={class:"space-y-6"},Re={class:"text-center text-rose-700/80 text-lg"},Fe={class:"max-w-md mx-auto space-y-3"},qe=["onClick"],Be={key:0,class:"text-white text-sm"},We={class:"text-rose-700 font-medium"},Oe=["disabled"],Ye={__name:"Puzzle6",props:["puzzle"],emits:["solved"],setup(w,{emit:n}){const d=n,t=y([]),s=y(!1),p=m=>{const x=t.value.indexOf(m);x===-1?t.value.push(m):t.value.splice(x,1)},v=m=>t.value.includes(m),r=async()=>{await S(7,t.value)?d("solved"):(s.value=!0,setTimeout(()=>s.value=!1,1e3))};return(m,x)=>(l(),a("div",Me,[e("div",Re,[e("p",null,g(w.puzzle.question),1),x[0]||(x[0]=e("p",{class:"text-sm mt-2 text-rose-500/70 italic"},"Select all that apply",-1))]),e("div",Fe,[(l(!0),a(C,null,P(w.puzzle.options,u=>(l(),a("button",{key:u,onClick:o=>p(u),class:z(["w-full p-4 rounded-xl border-2 text-left transition-all duration-300 flex items-center gap-3",{"border-rose-300 bg-white hover:border-rose-400":!v(u)&&!s.value,"border-rose-600 bg-rose-50 shadow-lg":v(u)&&!s.value,"border-red-500 bg-red-50 animate-shake":s.value&&v(u)}])},[e("div",{class:z(["w-6 h-6 rounded border-2 flex items-center justify-center transition-all flex-shrink-0",{"border-rose-300":!v(u),"border-rose-600 bg-rose-600":v(u)}])},[v(u)?(l(),a("span",Be,"âœ“")):T("",!0)],2),e("span",We,g(u),1)],10,qe))),128)),e("button",{onClick:r,disabled:t.value.length===0,class:z(["btn-primary w-full mt-4",{"opacity-50 cursor-not-allowed":t.value.length===0}])}," Submit Answer ",10,Oe)])]))}},Ue=A(Ye,[["__scopeId","data-v-f32aa872"]]),Ne={class:"space-y-6"},Ve={class:"text-center text-rose-700/80 text-lg"},Ge={class:"max-w-md mx-auto"},Ke={class:"grid grid-cols-3 gap-4 mb-6"},Je=["onClick"],Qe={class:"text-4xl relative"},Xe={key:0,class:"absolute -top-1 -right-3 text-sm bg-rose-500 text-white rounded-full w-5 h-5 flex items-center justify-center"},Ze=["disabled"],et={__name:"Puzzle7",props:["puzzle"],emits:["solved"],setup(w,{emit:n}){const d=n,t=y(null),s=y(!1),p=m=>{var x;return((x=t.value)==null?void 0:x.label)===m.label},v=m=>{t.value=m},r=async()=>{t.value&&await S(5,t.value.label)?d("solved"):(s.value=!0,setTimeout(()=>s.value=!1,1e3))};return(m,x)=>(l(),a("div",Ne,[e("div",Ve,[e("p",null,g(w.puzzle.question),1)]),e("div",Ge,[e("div",Ke,[(l(!0),a(C,null,P(w.puzzle.options,u=>(l(),a("button",{key:u.label,onClick:o=>v(u),class:z(["flex flex-col items-center gap-2 p-4 rounded-xl border-2 transition-all duration-300",{"border-rose-200 bg-white hover:border-rose-400 hover:shadow-md":!p(u)&&!s.value,"border-rose-500 ring-2 ring-rose-300 bg-rose-100 shadow-lg scale-110 selected-glow":p(u)&&!s.value,"border-red-500 bg-red-50 animate-shake":s.value&&p(u)}])},[e("span",Qe,[K(g(u.emoji)+" ",1),p(u)?(l(),a("span",Xe,"âœ“")):T("",!0)]),e("span",{class:z(["text-sm font-medium",p(u)?"text-rose-800":"text-rose-700"])},g(u.label),3)],10,Je))),128))]),e("button",{onClick:r,disabled:!t.value,class:z(["btn-primary w-full",{"opacity-50 cursor-not-allowed":!t.value}])}," Submit Final Answer ",10,Ze)])]))}},tt=A(et,[["__scopeId","data-v-009a42a9"]]),st={class:"space-y-6"},ot={class:"text-center text-rose-700/80 text-lg"},lt={class:"max-w-sm mx-auto"},at={class:"absolute left-0 top-0 bottom-0 w-4 flex flex-col justify-around items-center z-10"},nt={class:"ticket-body pl-6 pr-4 py-6 bg-gradient-to-br from-amber-400 via-orange-400 to-amber-500"},rt={class:"text-center mb-4"},ut={class:"flex justify-center gap-1 mb-1"},ct={class:"flex justify-center gap-2 my-6"},it=["onClick"],dt={class:"text-center mt-4 space-y-1"},mt={class:"flex justify-center gap-1"},pt={class:"max-w-md mx-auto"},vt={class:"flex flex-wrap justify-center gap-2 mb-6"},ft=["onClick","disabled"],bt={class:"flex gap-3"},ht=["disabled"],D="Ð—Ð’Ð•Ð Ð˜",xt={__name:"Puzzle8",props:["puzzle"],emits:["solved"],setup(w,{emit:n}){const d=n,t=y(Array(D.length).fill(null)),s=y(!1),p=["Ð","Ð‘","Ð“","Ð”","Ðš","Ð›","Ðœ","Ð","Ðž","ÐŸ"],v=[...D],r=y(m([...v,...p]));function m(b){const i=[...b];for(let _=i.length-1;_>0;_--){const $=Math.floor(Math.random()*(_+1));[i[_],i[$]]=[i[$],i[_]]}return i}const x=I(()=>{const b=new Set;for(const i of t.value)i!==null&&b.add(i.sourceIndex);return b}),u=I(()=>t.value.findIndex(b=>b===null)),o=I(()=>t.value.every(b=>b!==null)),h=(b,i)=>{if(x.value.has(i))return;const _=u.value;_!==-1&&(t.value[_]={letter:b,sourceIndex:i})},k=b=>{t.value[b]=null},c=()=>{t.value=Array(D.length).fill(null)},f=async()=>{const b=t.value.map(i=>(i==null?void 0:i.letter)??"").join("");await S(4,b)?d("solved"):(s.value=!0,setTimeout(()=>s.value=!1,1e3))};return(b,i)=>(l(),a("div",st,[e("div",ot,[e("p",null,g(w.puzzle.question),1),i[0]||(i[0]=e("p",{class:"text-sm mt-2 text-rose-500/70 italic"},"Pick the Cyrillic letters to fill in the band name on the ticket",-1))]),e("div",lt,[e("div",{class:z(["ticket relative rounded-2xl overflow-hidden shadow-2xl",{"animate-shake":s.value}])},[e("div",at,[(l(),a(C,null,P(10,_=>e("div",{key:_,class:"w-3 h-3 rounded-full bg-rose-50/80"})),64))]),e("div",nt,[e("div",rt,[e("div",ut,[(l(),a(C,null,P(5,_=>e("span",{key:_,class:"text-yellow-200 text-xs"},"â˜…")),64))]),i[1]||(i[1]=e("p",{class:"text-amber-900/70 text-xs font-bold uppercase tracking-[0.3em]"},"Ð–Ð¸Ð²Ð¾Ð¹ ÐšÐ¾Ð½Ñ†ÐµÑ€Ñ‚",-1))]),e("div",ct,[(l(!0),a(C,null,P(t.value,(_,$)=>(l(),a("button",{key:"slot-"+$,onClick:L=>_!==null&&k($),class:z(["w-12 h-14 rounded-lg border-2 border-dashed flex items-center justify-center text-2xl font-bold transition-all duration-200",{"border-amber-800/40 bg-amber-300/40":_===null,"border-amber-900 bg-white/90 text-amber-900 hover:bg-red-100 cursor-pointer":_!==null}])},g((_==null?void 0:_.letter)??""),11,it))),128))]),e("div",dt,[e("div",mt,[(l(),a(C,null,P(5,_=>e("span",{key:_,class:"text-yellow-200 text-xs"},"â˜…")),64))]),i[2]||(i[2]=e("p",{class:"text-amber-900/50 text-[10px] font-semibold uppercase tracking-[0.2em]"},"ÐžÐ´Ð¸Ð½ Ð‘Ð¸Ð»ÐµÑ‚",-1))])])],2)]),e("div",pt,[e("div",vt,[(l(!0),a(C,null,P(r.value,(_,$)=>(l(),a("button",{key:"crowd-"+$,onClick:L=>h(_,$),disabled:x.value.has($),class:z(["w-11 h-11 rounded-full font-bold text-lg transition-all transform",{"bg-amber-100 text-amber-800 hover:bg-amber-200 hover:scale-110 shadow-md":!x.value.has($),"bg-gray-100 text-gray-300 cursor-not-allowed scale-90":x.value.has($)}])},g(_),11,ft))),128))]),e("div",bt,[e("button",{onClick:c,class:"btn-secondary flex-1"}," Reset "),e("button",{onClick:f,disabled:!o.value,class:z(["btn-primary flex-1",{"opacity-50 cursor-not-allowed":!o.value}])}," Submit ",10,ht)])])]))}},_t=A(xt,[["__scopeId","data-v-dc9f29f7"]]),yt={class:"space-y-6"},wt={class:"text-center text-rose-700/80 text-lg"},gt={class:"flex justify-center"},zt={class:"flex"},kt=["onClick"],$t=["onMousedown","onTouchstart"],Ct={class:"dial-letter-adjacent"},Pt={class:"dial-letter-current"},jt={class:"dial-letter-adjacent"},It=["onClick"],W=9,O="ABCDEFGHIJKLMNOPQRSTUVWXYZ",At=30,St={__name:"Puzzle9",props:["puzzle"],emits:["solved"],setup(w,{emit:n}){const d=n,t=y(Array.from({length:W},()=>0)),s=y(!1),p=Array.from({length:W},()=>!1);V(()=>{t.value=t.value.map(()=>Math.floor(Math.random()*26))});const v=(o,h)=>{if(p[o])return;p[o]=!0,setTimeout(()=>{p[o]=!1},80);const k=t.value[o];h==="up"?t.value[o]=(k-1+26)%26:t.value[o]=(k+1)%26},r={index:-1,startY:0,accumulated:0},m=(o,h)=>{h.preventDefault();const k=h.type==="touchstart"?h.touches[0].clientY:h.clientY;r.index=o,r.startY=k,r.accumulated=0;const c=b=>{const _=(b.type==="touchmove"?b.touches[0].clientY:b.clientY)-r.startY,$=Math.trunc(_/At);if($!==r.accumulated){const L=$-r.accumulated;r.accumulated=$;for(let B=0;B<Math.abs(L);B++)v(r.index,L>0?"up":"down")}},f=()=>{document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",f),document.removeEventListener("touchmove",c),document.removeEventListener("touchend",f),r.index=-1};document.addEventListener("mousemove",c),document.addEventListener("mouseup",f),document.addEventListener("touchmove",c,{passive:!1}),document.addEventListener("touchend",f)},x=(o,h)=>{const k=(t.value[o]+h+26)%26;return O[k]},u=async()=>{const o=t.value.map(h=>O[h]).join("");await S(8,o)?d("solved"):(s.value=!0,setTimeout(()=>s.value=!1,800))};return(o,h)=>(l(),a("div",yt,[e("div",wt,[e("p",null,g(w.puzzle.question),1),h[0]||(h[0]=e("p",{class:"text-sm text-rose-400 mt-2"},"Rotate each dial to spell out the answer",-1))]),e("div",gt,[e("div",{class:z(["cryptex-body",{"animate-shake":s.value}])},[h[3]||(h[3]=e("div",{class:"cryptex-cap cryptex-cap-left"},null,-1)),e("div",zt,[(l(!0),a(C,null,P(t.value,(k,c)=>(l(),a("div",{key:c,class:"cryptex-dial-wrapper"},[e("button",{onClick:f=>v(c,"up"),class:"dial-arrow dial-arrow-up","aria-label":"Rotate up"},[...h[1]||(h[1]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5",class:"w-4 h-4 pointer-events-none"},[e("path",{d:"M18 15l-6-6-6 6"})],-1)])],8,kt),e("div",{class:"dial-window",onMousedown:f=>m(c,f),onTouchstart:f=>m(c,f)},[e("span",Ct,g(x(c,-1)),1),e("span",Pt,g(x(c,0)),1),e("span",jt,g(x(c,1)),1)],40,$t),e("button",{onClick:f=>v(c,"down"),class:"dial-arrow dial-arrow-down","aria-label":"Rotate down"},[...h[2]||(h[2]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5",class:"w-4 h-4 pointer-events-none"},[e("path",{d:"M6 9l6 6 6-6"})],-1)])],8,It)]))),128))]),h[4]||(h[4]=e("div",{class:"cryptex-cap cryptex-cap-right"},null,-1))],2)]),e("div",{class:"max-w-md mx-auto"},[e("button",{onClick:u,class:"btn-primary w-full"}," Unlock Cryptex ")])]))}},Tt=A(St,[["__scopeId","data-v-a9df1525"]]),Lt={class:"max-w-4xl mx-auto"},Et={class:"flex justify-center gap-3 mb-8 flex-wrap"},Ht=["onClick","disabled"],Dt={key:0},Mt={key:1},Rt={key:2},Ft={class:"text-center mb-6"},qt={class:"text-sm text-rose-400 uppercase tracking-wider"},Bt={class:"text-3xl font-bold gradient-text mt-1"},Wt="IADOREYOU",Ot={__name:"PuzzleContainer",setup(w){const n=G(),d={0:ue,1:we,2:Se,3:De,4:_t,5:tt,6:be,7:Ue,8:Tt},t=I(()=>d[n.state.currentPuzzle]),s=I(()=>F[n.state.currentPuzzle]),p=()=>{n.completePuzzle(n.state.currentPuzzle)},v=m=>{n.canAccessPuzzle(m)&&n.setCurrentPuzzle(m)},r=m=>n.state.puzzlesCompleted[m]?"completed":n.canAccessPuzzle(m)?"available":"locked";return(m,x)=>(l(),a("div",Lt,[e("div",Et,[(l(!0),a(C,null,P(j(F),(u,o)=>(l(),a("button",{key:u.id,onClick:h=>v(o),disabled:!j(n).canAccessPuzzle(o),class:z(["w-12 h-12 rounded-full flex items-center justify-center text-lg font-bold transition-all duration-300",{"bg-green-500 text-white shadow-lg shadow-green-500/30":r(o)==="completed","bg-white text-rose-600 shadow-lg hover:shadow-xl hover:-translate-y-0.5 cursor-pointer":r(o)==="available"&&j(n).state.currentPuzzle!==o,"bg-rose-600 text-white shadow-lg shadow-rose-600/30 ring-4 ring-rose-300":j(n).state.currentPuzzle===o,"bg-gray-200 text-gray-400 cursor-not-allowed":r(o)==="locked"}])},[r(o)==="completed"?(l(),a("span",Dt,g(Wt[o]),1)):r(o)==="locked"?(l(),a("span",Mt,"ðŸ”’")):(l(),a("span",Rt,g(o+1),1))],10,Ht))),128))]),H(R,{name:"scale",mode:"out-in"},{default:M(()=>[(l(),a("div",{key:j(n).state.currentPuzzle,class:"puzzle-card"},[e("div",Ft,[e("span",qt," Puzzle "+g(j(n).state.currentPuzzle+1)+" of 9 ",1),e("h2",Bt,g(s.value.title),1)]),(l(),J(Q(t.value),{puzzle:s.value,onSolved:p},null,40,["puzzle"]))]))]),_:1})]))}},Yt={class:"min-h-screen relative z-10"},Ut={key:0,class:"min-h-screen flex items-center justify-center px-4"},Nt={key:0},Vt={class:"pt-8 pb-4 px-4 text-center"},Gt={class:"max-w-md mx-auto mt-6"},Kt={class:"flex justify-between text-sm text-rose-600 mb-2"},Jt={class:"h-3 bg-white/50 rounded-full overflow-hidden shadow-inner"},Qt={class:"px-4 pb-12"},Xt={key:1,class:"fixed bottom-4 right-4 opacity-30 hover:opacity-100 transition-opacity"},ts={__name:"TreasureHunt",setup(w){const n=Z(),d=G(),t=!1,s=y(!0),p=y(!1),v=()=>{s.value=!1},r=()=>{p.value=!0,setTimeout(()=>{m()},3e3)},m=()=>{n.push("/wrapped")};V(()=>{d.allPuzzlesCompleted.value&&r()}),X(()=>d.allPuzzlesCompleted.value,u=>{u&&r()});const x=I(()=>d.completedCount.value/9*100);return(u,o)=>(l(),a("div",Yt,[H(R,{name:"fade"},{default:M(()=>[s.value?(l(),a("div",Ut,[e("div",{class:"puzzle-card max-w-lg text-center"},[o[2]||(o[2]=e("div",{class:"text-6xl mb-6"},"ðŸ”",-1)),o[3]||(o[3]=e("h1",{class:"text-3xl md:text-4xl font-bold gradient-text mb-6"}," Identity Verification ",-1)),o[4]||(o[4]=e("p",{class:"text-rose-700/80 text-lg leading-relaxed mb-8"}," Before we proceed, I have to identify if you are the woman I love, so please solve these puzzles that only she would know. ",-1)),e("button",{onClick:v,class:"btn-primary text-lg px-10 py-4"}," I'm Ready ")])])):T("",!0)]),_:1}),s.value?T("",!0):(l(),a("div",Nt,[e("header",Vt,[o[6]||(o[6]=e("h1",{class:"text-4xl md:text-5xl font-bold gradient-text mb-2"}," A Treasure Hunt for Elizabeth ",-1)),o[7]||(o[7]=e("p",{class:"text-rose-600/80 text-lg"}," Solve all 9 puzzles to unlock your surprise ",-1)),e("div",Gt,[e("div",Kt,[o[5]||(o[5]=e("span",null,"Progress",-1)),e("span",null,g(j(d).completedCount.value)+" / 9",1)]),e("div",Jt,[e("div",{class:"h-full bg-gradient-to-r from-rose-400 to-rose-600 rounded-full transition-all duration-700 ease-out",style:Y({width:x.value+"%"})},null,4)])])]),e("main",Qt,[H(Ot)])])),H(R,{name:"fade"},{default:M(()=>[p.value?(l(),a("div",{key:0,class:"fixed inset-0 bg-gradient-to-br from-rose-500 to-pink-600 z-50 flex items-center justify-center cursor-pointer",onClick:m},[...o[8]||(o[8]=[e("div",{class:"text-center text-white"},[e("div",{class:"text-8xl mb-6 animate-heart-beat"},"ðŸ’•"),e("h2",{class:"text-4xl md:text-5xl font-bold mb-4"}," All Puzzles Complete! "),e("p",{class:"text-xl opacity-90"}," Tap to continue... ")],-1)])])):T("",!0)]),_:1}),j(t)?(l(),a("div",Xt,[e("button",{onClick:o[0]||(o[0]=h=>j(d).unlockAll()),class:"text-xs bg-gray-800 text-white px-3 py-1 rounded"}," Dev: Unlock All "),e("button",{onClick:o[1]||(o[1]=h=>j(d).resetProgress()),class:"text-xs bg-gray-800 text-white px-3 py-1 rounded ml-2"}," Dev: Reset ")])):T("",!0)]))}};export{ts as default};
